<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wishlist - Read & Grow</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inria+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11.5.0/dist/sweetalert2.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.5.0/dist/sweetalert2.all.min.js"></script>
    <script src="/js/user/showMessage.js" defer></script>
   <style>
        .font-inria { font-family: 'Inria Sans', sans-serif; }
        .card { box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); transition: transform 0.2s; }
        .card:hover { transform: translateY(-2px); }
        .wishlist-container { max-width: 1200px; margin: 0 auto; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen font-inria">
    
    <!-- Navbar  -->
    <%- include("../partials/user/navBar.ejs") %>


    <div class="wishlist-container px-4 sm:px-6 lg:px-8 py-8">
        <h1 class="text-2xl md:text-3xl font-bold text-gray-900 mb-8">Wishlist</h1>
        
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Wishlist Item 1 -->
            <% if (wishlist && wishlist.length > 0) { %>
                <% JSON.parse(wishlist).forEach(item => { %>
                        <div class="bg-white rounded-lg card p-4 flex flex-col items-center text-center">
                            <button onclick="showMessage('wishlistDelete',['<%= item._id %>','<%= item.items._id  %>'])" 
                                class="absolute top-2 right-2 text-gray-500 hover:text-red-500" aria-label="Remove from wishlist">
                                <i class="fas fa-times"></i>
                            </button>
                            <div class="relative mb-4">
                                <i class="fas fa-heart absolute top-2 right-2 text-red-500"></i>
                                <img src="<%= item.items.images %>" 
                                     alt="<%= item.items.name %>" 
                                     class="w-32 h-48 object-cover rounded-md">
                            </div>
                            <h3 class="text-lg font-semibold text-gray-900"><%= item.items.name %></h3>
                            <p class="text-sm text-gray-600"><%= item.items.authorName %></p>
                            <div class="flex items-center gap-1 text-yellow-400 mb-2">
                                <i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i>
                            </div>
                            <p class="text-lg font-medium text-gray-900 mb-4">$<%= item.items.price %></p>
                            <button class="bg-gray-900 text-white px-4 py-2 rounded-full hover:bg-gray-800 transition-colors">
                                ADD CART
                            </button>
                        </div>
                <% }) %>
            <% } else { %>
                <p class="text-gray-600 text-center">Your wishlist is empty.</p>
            <% } %>
            
        </div>

        <div class="mt-8 text-center">
            <a href="/read-and-grow/shop" class="text-gray-600 hover:text-gray-900 text-sm underline">Go back</a>
        </div>
    </div>

        <!-- footer  -->
        
        <%- include("../partials/user/footer.ejs") %>
    </body>
</html>